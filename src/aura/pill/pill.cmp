<aura:component >
    <aura:attribute name="draggable" type="Boolean" default="false" />
    <aura:attribute name="fullWidth" type="Boolean" default="false" />
    <aura:attribute name="iconPosition" type="String" default="right" />
    <aura:attribute name="iconName" type="String" default="close" description="options: utility icon names, e.g. close, add, left, right" />
    <aura:attribute name="value" type="Object" />
    
    <aura:registerEvent name="onIconClicked" type="tramn:actionEvent" />
    <aura:registerEvent name="onLabelClicked" type="tramn:actionEvent" />
    
    <span class="slds-pill" role="option" tabindex="0" aria-selected="true" style="{!v.fullWidth ? 'width:100%;' : ''}" draggable="{!v.draggable}" ondragstart="{!c.onDragStart}">
        <aura:if isTrue="{!v.iconPosition == 'left'}">
        	<span class="slds-icon_container slds-pill__remove">
                <lightning:buttonIcon iconName="{! 'utility:' + v.iconName}" alternativeText="Action" size="small" variant="bare" onclick="{!c.onIconClicked}"/>
            </span>
        </aura:if>
        <span class="slds-pill__label slds-p-horizontal_xx-small slds-truncate" title="{!v.value.label}">
            <button class="slds-button slds-truncate" onclick="{!c.onLabelClicked}">{!v.value.label}</button>
        </span>
        <aura:if isTrue="{!v.iconPosition == 'right'}">
        	<span class="slds-icon_container slds-pill__remove">
                <lightning:buttonIcon iconName="{! 'utility:' + v.iconName}" alternativeText="Action" size="small" variant="bare" onclick="{!c.onIconClicked}"/>
            </span>
        </aura:if>
    </span>
    
</aura:component>