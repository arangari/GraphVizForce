<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Graphvizforce by stevebuik</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Graphvizforce</h1>
        <p>An Entity Relationship Diagram generator in Graphviz format for Salesforce.com</p>
        <p class="view"><a href="https://github.com/stevebuik/GraphVizForce">View the Project on GitHub <small>stevebuik/GraphVizForce</small></a></p>
        <ul>
          <li><a href="https://github.com/stevebuik/GraphVizForce/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/stevebuik/GraphVizForce/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/stevebuik/GraphVizForce">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>Why? ER Diagrams are used for communication and as a reference. Often you want many different diagrams from the same Salesforce instance.
This tool allows you to save as many different diagrams as you like so you can easily change and re-generate them in the future.</p>

<p>You can also use the built-in template system to style the saved diagrams however you like.</p>

<p>This is a sample of what you can produce.</p>

<p><img src="assets/DefaultDiagram.png" alt="Sample"></p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h3>

<ul>
<li>Automatically generate and layout diagrams from SFDC to Graphviz</li>
<li>Group entities and choose which fields are included</li>
<li>Save diagrams for later changes</li>
<li>Export diagrams to <a href="assets/DefaultDiagram.png">Image</a> or <a href="assets/DefaultDiagram.pdf?raw=true">PDF</a> using Graphviz</li>
<li>Customise the templates used for the diagram for your style preferences</li>
</ul>

<h3>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h3>

<p>Install this app into your Salesforce: 
<a href="https://githubsfdeploy-sandbox.herokuapp.com/app/githubdeploy/stevebuik/GraphVizForce" target="deploy">Install into Sandbox</a>
.....or..... 
<a href="https://githubsfdeploy.herokuapp.com/app/githubdeploy/stevebuik/GraphVizForce" target="deploy">Install into Production</a></p>

<p>Create a folder in the Documents tab called <em>ERD Settings</em> . This name is case sensitive. The API Name of the folder can be anything.</p>

<p>To run the generator, navigate to the ERD Generator tab. You may need to make the tab visible in your Profile. 
Or just change the url in your browser to /apex/ERDGeneratorPage</p>

<ol>
<li>Click the <em>Generate</em> button to see the diagram.</li>
<li>Now add some new fields to the diagram

<ol>
<li>Click the <em>Configure Objects</em> tab</li>
<li>Edit any object and choose the fields you want to see</li>
<li>Click <em>Generate</em> again to update the diagram</li>
</ol>
</li>
<li>Click the <em>Configure Groups</em> tab to add or remove a Group and some Objects</li>
<li>Click <em>Generate</em> again to see your changes in the Graphviz code field<br>
</li>
<li>Use the <em>Save</em> button to save your diagram. This allows you to update it later without starting from scratch.</li>
<li>Maybe use the <em>Save As</em> button in the <em>Choose/Create Diagram</em> tab to clone a new Diagram from the default.</li>
<li>Install <a href="http://graphviz.org">Graphviz</a> on your computer</li>
<li>If you want a pdf or png copy of the diagram, you can download the diagram using the "Download Graphviz File" button. Open the downloaded .gv file using Graphviz on your computer and export to the format that you need. </li>
</ol>

<h3>
<a id="templates" class="anchor" href="#templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Templates</h3>

<p>Diagrams are generated using a template system. Templates are <em>Static Resources</em> that have a description starting with #graphviztemplate. 
You can also use a template that is in a public Dropbox folder. The file must have a .gv extension. 
This is useful when changing templates because you can edit the file locally and Dropbox will automatically save it to the cloud.
If you are a developer you can use Eclipse or any other meta-data editor to create/edit Static Resources instead of using Dropbox.</p>

<p>Note: to use a Dropbox template, you must add a <em>Remote Site Setting</em> in Salesforce for <a href="https://dl.dropboxusercontent.com">https://dl.dropboxusercontent.com</a></p>

<p>This means you can create custom templates if you want or you can just use the basic included template(s).
If you create a nice template, please send us a sample - we'd like to include it for everyone to use. </p>

<p>For more info on Graphviz syntax see <a href="http://www.graphviz.org/Documentation/dotguide.pdf">http://www.graphviz.org/Documentation/dotguide.pdf</a></p>

<p>The easiest way to play with templates is to generate a diagram and open it in Graphviz. 
Then edit the .gv in any editor and Graphviz will automatically refresh. Once you are happy with the design, apply the changes to your template and re-generate.</p>

<h3>
<a id="project-status" class="anchor" href="#project-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project Status</h3>

<p>We use CircleCI to automatically test the Apex code in this project. </p>

<p>Here is the current build status. <a href="https://circleci.com/gh/stevebuik/GraphVizForce"><img src="https://circleci.com/gh/stevebuik/GraphVizForce.svg?style=svg" alt="Circle CI"></a>
Don't install the app if this is not green.</p>

<p>If interested you can <a href="https://circleci.com/gh/stevebuik/GraphVizForce">see the tests running here</a></p>

<h3>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Motivation</h3>

<p>This tool was not possible using Apex until the Summer 14 Release when Salesforce removed the limits on describes.</p>

<p>We built it to enable anyone to generate ERD Diagrams and to share what we've learned building tools like this. </p>

<p>The code is split into modules to make it easier to understand for developers. 
There are a few techniques used in the code which you can copy and learn from:</p>

<ul>
<li>Dropbox File Chooser without OAuth <a href="https://github.com/stevebuik/GraphVizForce/blob/master/src/staticresources/ERDGeneratorJS.resource">ERDGeneratorJS</a>
</li>
<li>Template generation from any data <a href="https://github.com/stevebuik/GraphVizForce/blob/master/src/classes/ERDTemplateEngine.cls">TemplateEngine</a>
</li>
<li>JQuery-UI widgets wrapped in a Visualforce Component <a href="https://github.com/stevebuik/GraphVizForce/blob/master/src/components/JQuerySelectable.component">JQuerySelectable</a>
</li>
<li>Automatically upgraded saved Settings <a href="https://github.com/stevebuik/GraphVizForce/blob/master/src/classes/ERDPersister.cls">ERDPersister</a> </li>
</ul>

<p>Look at the tests to learn how to use these classes.</p>

<h3>
<a id="roadmap" class="anchor" href="#roadmap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Roadmap</h3>

<p>We welcome contributions from the community. If you want to add a feature, connect with one of us to ensure that someone else is not already doing it and then send us a pull request.</p>

<p>Here are features that we need help with</p>

<ul>
<li>More Templates</li>
<li>Lightning Component for the JQuery Selectable</li>
<li>Connecting Relationships to the correct Field using dot <em>ports</em>
</li>
<li>Displaying relationship names</li>
</ul>

<h3>
<a id="contributors" class="anchor" href="#contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributors</h3>

<p>Jason Guan <a href="https://github.com/jasong327">Github</a> <a href="https://www.linkedin.com/pub/jason-guan/39/3a9/346">LinkedIn</a> <a href="http://cyberlemons.com/">Website</a></p>

<p>Steve Buikhuizen <a href="https://twitter.com/stevebuik">@steveb8n</a> <a href="https://github.com/stevebuik">Github</a> <a href="https://www.linkedin.com/in/stevebuikhuizen">LinkedIn</a> <a href="https://plus.google.com/+SteveBuikhuizen">Google+</a></p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/stevebuik">stevebuik</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-57538955-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
